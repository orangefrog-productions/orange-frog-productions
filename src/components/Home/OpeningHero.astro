---
import { Image } from "astro:assets";
import Headline from "../shared/Headline.astro";
import Button from "../shared/Button.astro";
import "./openingHero.scss";
---

<div class="home-opening-hero" id="opening-home-hero">
  <div class="bg-image">
    <Image
      src={Astro.props.data.homeOpeningImage.sourceUrl}
      alt={`Switchback Creative`}
      inferSize={true}
      loading="eager"
    />
  </div>
  <div class="bg-image-parallax">
    <Image
      src={Astro.props.data.homeOpeningImageParallax.sourceUrl}
      alt={`Switchback Creative`}
      inferSize={true}
      loading="eager"
    />
  </div>
  <div class="bg-outline"></div>
  <div class="home-opening-hero-content">
    <div class="home-opening-hero-content-title">
      <Headline ele="h2" hlstyle="two"
        >{Astro.props.data.homeOpeningTitle}</Headline
      >
    </div>
    <div class="home-opening-hero-content-button">
      <Button href={`${Astro.props.data.homeOpeningButtonLink.uri}`}>
        {Astro.props.data.homeOpeningButtonText}
      </Button>
      <Button
        classes="btn-rentals"
        target="_blank"
        rel="noopener"
        href={`https://www.orangefroglightingrental.ca/`}
      >
        Leap To Rentals
      </Button>
    </div>
  </div>
</div>

<script>
  import { gsap } from "gsap";
  let mm = gsap.matchMedia();
  const heroTitle = document.querySelector(".home-opening-hero-content-title");
  const heroButton = document.querySelector(
    ".home-opening-hero-content-button",
  );
  if (heroTitle && heroButton) {
    gsap.fromTo(
      heroTitle,
      { autoAlpha: 0, y: 100 },
      { delay: 0.5, autoAlpha: 1, y: 0, ease: "power2.out", duration: 1 },
    );
    gsap.fromTo(
      heroButton,
      { autoAlpha: 0, x: 100 },
      { delay: 1, autoAlpha: 1, x: 0, ease: "power2.out" },
    );
  }
</script>
