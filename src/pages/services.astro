---
import Layout from '../layouts/Layout.astro';
import Intro from '../components/Services/Intro.astro';
import Events from '../components/Services/Events.astro';
import Experiences from '../components/Services/Experiences.astro';
import Quote from '../components/Services/Quote.astro';
import Collaborative from '../components/Services/Collaborative.astro';
import Awards from '../components/Services/Awards.astro';
import Member from '../components/Services/Member.astro';


const response = await fetch(`${import.meta.env.WPGRAPHQL_URL}`, {
	method: "POST",
	headers: {
		"content-type": "application/json",
	},
	body: JSON.stringify({
    	query: `
			query homePageQuery {
				page(id: "/services", idType: URI) {
                    servicesPage {
                    introComponent {
                        mainCallout
                        mainContent
                        mainTitle
                        }

                        eventsComponent {
                            mainTitle
                            introContent
                            mainImage {
                            altText
                            sourceUrl
                            }
                            eventSectionLinks {
                            linkTitle
                            sectionId
                            }
                        }


                        experiencesComponent {
                            mainTitle
                            introContent
                            mainImage {
                            altText
                            sourceUrl
                            }
                            experienceSectionLinks {
                            linkTitle
                            sectionId
                            }
                        }

                        quoteComponent {
                            quote
                        }


                        collaborativeProcessComponent {
                            mainTitle
                            mainContent
                            buttonText
                            buttonLink {
                            ... on Page {
                                id
                                uri
                            }
                            }
                            displayTestimonials
                        }


                        awardsComponent {
                            logos {
                            logo {
                                altText
                                sourceUrl
                            }
                            externalUrl
                            }
                        }

                        memberComponent {
                            logos {
                            externalUrl
                            logo {
                                altText
                                sourceUrl
                            }
                            }
                        }




                    }
				}

                logoOptions {
                    logoOptions {
                        frogLogo {
                            altText
                            sourceUrl
                        }
                    }
                }

			}
		`,
  	}),
});

const {data: {page, logoOptions} } = await response.json();

console.log("page: ", page)

---

<Layout metaTitle="Services">
    <Intro data={page.servicesPage.introComponent} logo={logoOptions.logoOptions.frogLogo} />
    <Events data={page.servicesPage.eventsComponent} />
    <Experiences data={page.servicesPage.experiencesComponent} />
    <Quote data={page.servicesPage.quoteComponent} />
    <Collaborative data={page.servicesPage.collaborativeProcessComponent} />
    <Awards data={page.servicesPage.awardsComponent} />
    <Member data={page.servicesPage.memberComponent} />
</Layout>
